import{c as m,r as v,o as r,a as n,d as e,t as l,F as h,q as p,b as y,N as b,P as i,J as d}from"./index-f56e3f4a.js";const f={class:"course-settings bg-page drop-2 p-4 rounded"},g=e("div",{class:"fs-3"},"Course Collaborators",-1),k={class:""},C={class:"mb-3"},w={class:"mb-3 vstack gap-3"},x=["src","alt"],I={class:"text-capitalize"},M={key:0,class:"ms-2 badge bg-secondary"},P=["onClick"],S=e("i",{class:"mdi mdi-trash-can-outline"},null,-1),B=[S],L={class:"mb-3"},E={__name:"CourseCollaborators",setup(N){const s=m(()=>b.course);async function u(t,c){try{if(!await i.confirm("Are you sure you want to add them as a Collaborator","You can remove them later"))return;if(s.value.maintainerIds.includes(t.id))throw new Error(t.name+" is already a Maintainer");s.value.maintainerIds.push(t.id),s.value.maintainers.push(t),d.updateCourse(s.value),c()}catch(a){i.error(a)}}async function _(t){if(await i.confirm("Are you sure you want to remove",t.name))try{await d.removeMaintainer(s.value.id,t.id)}catch(a){i.error(a)}}return(t,c)=>{const a=v("ProfileLookup");return r(),n("div",f,[g,e("div",k,[e("div",C,[e("span",null,l(s.value.maintainers.length)+" Collaborators",1)]),e("div",w,[(r(!0),n(h,null,p(s.value.maintainers,o=>(r(),n("div",{key:o.id,class:"d-flex gap-3 align-items-center"},[e("img",{src:o.picture,alt:o.name,class:"profile-picture"},null,8,x),e("strong",I,l(o.name.split("@")[0]),1),o.id===s.value.creatorId?(r(),n("div",M,"Owner")):(r(),n("button",{key:1,class:"btn btn-hazard btn-icon btn-xs",onClick:z=>_(o)},B,8,P))]))),128))]),e("div",L,[y(a,{onSelected:u})])])])}}};export{E as default};
