import{_ as C,n as S,u as T,l as P,G as R,c as u,A as t,P as f,r as i,a as d,v as V,f as _,I as w,b as p,d as e,g as m,t as A,o as l,p as B,i as D,w as E}from"./index-b9f9cde0.js";const O={setup(){const a=S(),b=T(),h=P(!1);async function s(){try{E.getLesson(a.params.courseId,a.params.lessonId)}catch(o){f.error(o)}}return R(()=>{var o;a.params.lessonId&&a.params.lessonId!=((o=t.currentLesson)==null?void 0:o.id)&&s()}),{videoReady:h,course:u(()=>t.course),currentLesson:u(()=>t.currentLesson),sasToken:u(()=>t.courseSasToken),issues:u(()=>t.courseIssues.filter(o=>o.contentId==t.currentLesson.id)),notes:u(()=>t.notes.filter(o=>{var r;return o.contentId==((r=t.currentLesson)==null?void 0:r.id)})),markComplete(){try{t.course.completed.find(c=>c==t.currentLesson.id)||t.course.completed.push(t.currentLesson.id);let r=t.course.course.lessons.findIndex(c=>t.currentLesson.id==c.id);if(r++,r<t.course.course.lessons.length){const c=t.course.course.lessons[r];return b.push({name:"Lesson",params:{lessonId:c.id}})}return b.push({name:"CourseComplete"})}catch(o){f.error(o)}}}}},n=a=>(B("data-v-e7139287"),a=a(),D(),a),U={key:0},Y={class:"my-4"},z={class:"nav nav-tabs",id:"myTab",role:"tablist"},G=n(()=>e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active nav-link clickable-light",id:"readme-tab","data-bs-toggle":"tab","data-bs-target":"#readme-tab-pane",type:"button",role:"tab","aria-controls":"readme-tab-pane","aria-selected":"true"},"Readme")],-1)),M={key:0,class:"nav-item",role:"presentation"},j=n(()=>e("button",{class:"nav-link clickable-light",id:"notes-tab","data-bs-toggle":"tab","data-bs-target":"#notes-tab-pane",type:"button",role:"tab","aria-controls":"notes-tab-pane","aria-selected":"true"},"Your Notes",-1)),q=[j],F={key:1,class:"nav-item",role:"presentation"},H=n(()=>e("button",{class:"nav-link clickable-inform",id:"attachments-tab","data-bs-toggle":"tab","data-bs-target":"#attachments-tab-pane",type:"button",role:"tab","aria-controls":"attachments-tab-pane","aria-selected":"true"},[e("i",{class:"mdi mdi-paperclip"}),m(" Attachments ")],-1)),J=[H],K={key:2,class:"nav-item",role:"presentation"},Q={class:"nav-link clickable-warn",id:"issues-tab","data-bs-toggle":"tab","data-bs-target":"#issues-tab-pane",type:"button",role:"tab","aria-controls":"issues-tab-pane","aria-selected":"false"},W=n(()=>e("i",{class:"mdi mdi-alert-rhombus"},null,-1)),X={class:"tab-content bg-page lift-2 p-3 rounded-bottom",id:"myTabContent"},Z={class:"tab-pane fade show active",id:"readme-tab-pane",role:"tabpanel","aria-labelledby":"readme-tab",tabindex:"0"},$=n(()=>e("p",{class:"bold mb-0"},[e("small",{class:"text-muted"},"Lesson Description")],-1)),ee={class:"tab-pane fade",id:"notes-tab-pane",role:"tabpanel","aria-labelledby":"notes-tab",tabindex:"0"},se=n(()=>e("p",{class:"bold mb-0"},[e("small",{class:"text-muted"},"Your Notes")],-1)),te={class:"tab-pane fade",id:"attachments-tab-pane",role:"tabpanel","aria-labelledby":"attachments-tab",tabindex:"0"},oe=n(()=>e("p",{class:"bold fs-4 mb-1"},[e("i",{class:"mdi mdi-code-braces-box text-inform"}),m(" Lesson Materials ")],-1)),ae={class:"tab-pane fade",id:"issues-tab-pane",role:"tabpanel","aria-labelledby":"issues-tab",tabindex:"0"},ne={key:1,class:"loading"},re=n(()=>e("div",{class:"false-video"},[e("div",{class:"player rounded selectable bg-page drop-3 p-2"})],-1)),ce=n(()=>e("div",{class:"false-bar rounded selectable bg-page drop-3 p-2"},null,-1)),le=[re,ce];function ie(a,b,h,s,o,r){var v,g,L;const c=i("VideoPlayer"),y=i("LessonNotebar"),k=i("LessonDetails"),I=i("Notes"),x=i("LessonAssets"),N=i("IssuesTable");return s.course&&s.currentLesson&&s.sasToken?(l(),d("section",U,[(v=s.currentLesson)!=null&&v.content.videoUrl?(l(),V(c,{key:0,class:"mt-2",poster:((g=s.currentLesson)==null?void 0:g.thumbnail)||s.course.picture,src:s.currentLesson.content.videoUrl,onOnEnded:s.markComplete,onOnInstanceCreated:b[0]||(b[0]=()=>s.videoReady=!0)},null,8,["poster","src","onOnEnded"])):_("",!0),s.currentLesson?(l(),d("div",{key:1,style:w((L=s.currentLesson)!=null&&L.content.videoUrl?"margin-top: -7.5rem":"")},[p(y,{lesson:s.currentLesson},null,8,["lesson"]),e("div",Y,[e("ul",z,[G,s.notes.length?(l(),d("li",M,q)):_("",!0),s.currentLesson.content.attachments.length?(l(),d("li",F,J)):_("",!0),s.issues.length?(l(),d("li",K,[e("button",Q,[W,m(" "+A(s.issues.length)+" Reported Issues ",1)])])):_("",!0)]),e("div",X,[e("div",Z,[e("div",null,[$,p(k,{lesson:s.currentLesson},null,8,["lesson"])])]),e("div",ee,[e("div",null,[se,p(I,{notes:s.notes},null,8,["notes"])])]),e("div",te,[e("div",null,[oe,p(x,{lesson:s.currentLesson},null,8,["lesson"])])]),e("div",ae,[p(N,{issues:s.issues},null,8,["issues"])])])])],4)):_("",!0)])):(l(),d("section",ne,le))}const be=C(O,[["render",ie],["__scopeId","data-v-e7139287"]]);export{be as default};
