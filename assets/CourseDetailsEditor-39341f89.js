import{_ as T,c as x,h,G as w,P as u,L as U,r as f,o as d,a as r,d as o,D as c,E as m,U as V,t as v,k as I,F as y,q as C,V as D,b as g,R as k,O as E,K as M,p as B,g as P}from"./index-818844cf.js";const L={setup(){const n=x(()=>E.course),t=h({...n.value}),i=h(null);w(()=>{t.value={...n.value}});async function e(){try{await M.updateCourse(t.value),u.success("Course Updated","bottom-end")}catch(s){u.error(s)}}return{tag:i,course:n,editable:t,updateCourse:e,levels:["beginner","intermediate","advanced"],addTag(){i.value={tag:""}},async validateTag(){if(i.value.tag){const s=i.value.tag.trim().toLowerCase();t.value.tags.includes(s)||(t.value.tags.push(i.value.tag),await e())}i.value=null},async removeTag(s,b){await u.confirm("Remove Tag",s)&&t.value.tags.splice(b,1)},async savePicture(s){t.value.picture=s.url,e()},async saveBG(s){t.value.background=s.url,e()},setDescription(s){t.value.description=s},logit(s){U.log(s)}}}},l=n=>(B("data-v-6a1f06e2"),n=n(),P(),n),G={class:"manage-course-details bg-page drop-2 p-4 rounded"},K={class:"mb-3"},N=l(()=>o("label",{class:"form-label",for:"courseTitle"},"Course title",-1)),F={class:"mb-3"},R=l(()=>o("label",{class:"form-label",for:"courseSubtitle"},"Course subtitle",-1)),q={class:"d-flex align-items-center gap-2"},z={class:"form-label",for:"courseTag"},O=l(()=>o("span",null," Course Tags ",-1)),j=l(()=>o("i",{class:"mdi mdi-tag-plus"},null,-1)),A=[j],H={key:0,class:"mb-2"},J={class:"input-group"},Q={class:"mb-2"},W=["onClick"],X=l(()=>o("i",{class:"text-secondary position-absolute mdi mdi-delete on-hover f-16",style:{top:"-55%",right:"0"}},null,-1)),Y={class:"mb-3"},Z=l(()=>o("label",{for:"level"},"Course Level",-1)),$=["value"],ee={class:"mb-3"},oe=l(()=>o("label",{class:"form-label",for:"courseDescription"},"Course description",-1)),te={class:"my-3"},ae={class:"mb-3"},se=l(()=>o("p",{class:"bold"}," Course Images ",-1)),le=l(()=>o("p",null,"Course Logo",-1)),ne={class:"mb-3"},ie=l(()=>o("p",null,"Course Background",-1)),de=l(()=>o("div",{class:"mt-5"},[o("button",{class:"btn btn-dark px-4 bold",type:"submit"}," Save ")],-1));function re(n,t,i,e,s,b){const p=f("MarkdownEditor"),_=f("ImageUploader");return d(),r("div",G,[o("form",{onSubmit:t[8]||(t[8]=k((...a)=>e.updateCourse&&e.updateCourse(...a),["prevent"]))},[o("div",null,[o("div",K,[N,c(o("input",{class:"form-control",id:"courseTitle","onUpdate:modelValue":t[0]||(t[0]=a=>e.editable.title=a),type:"text",name:"title",placeholder:"Insert your course subtitle.",maxlength:"60",minlength:"3"},null,512),[[m,e.editable.title]])]),o("div",F,[R,c(o("input",{class:"form-control",id:"courseSubtitle","onUpdate:modelValue":t[1]||(t[1]=a=>e.editable.headline=a),type:"text",name:"subtitle",placeholder:"Insert your course subtitle.",maxlength:"100"},null,512),[[m,e.editable.headline]])])]),o("div",q,[o("label",z,[O,o("button",{type:"button",class:"btn clickable-warn",onClick:t[2]||(t[2]=(...a)=>e.addTag&&e.addTag(...a))},A)]),e.tag?(d(),r("div",H,[o("div",J,[c(o("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=a=>e.tag.tag=a),type:"text",placeholder:"Tag",onKeydown:t[4]||(t[4]=V(k((...a)=>e.validateTag&&e.validateTag(...a),["prevent","stop"]),["enter"]))},null,544),[[m,e.tag.tag,void 0,{trim:!0}]]),o("button",{type:"button",class:"input-group-addon btn clickable-warn",onClick:t[5]||(t[5]=(...a)=>e.validateTag&&e.validateTag(...a))},v(e.tag.tag.length?"Save":"Cancel"),1)])])):I("",!0),o("div",Q,[(d(!0),r(y,null,C(e.editable.tags,(a,S)=>(d(),r("button",{type:"button",class:"btn bold clickable-inform position-relative align-items-center",key:a,onClick:ce=>e.removeTag(a,S)},[o("span",null,v(a),1),X],8,W))),128))])]),o("div",Y,[Z,c(o("select",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=a=>e.editable.level=a)},[(d(!0),r(y,null,C(e.levels,a=>(d(),r("option",{value:a,key:a},v(a),9,$))),128))],512),[[D,e.editable.level]])]),o("div",ee,[oe,o("div",te,[g(p,{class:"scrollable-y",style:{"max-height":"575px"},modelValue:e.editable.description,"onUpdate:modelValue":t[7]||(t[7]=a=>e.editable.description=a),onSave:e.updateCourse},null,8,["modelValue","onSave"])])]),o("div",ae,[se,le,g(_,{key:"course-picture-uploader",onSomething:e.logit,source:e.editable.picture,usePublic:!0,onUploaded:e.savePicture},null,8,["onSomething","source","onUploaded"])]),o("div",ne,[ie,g(_,{key:"course-bg-uploader",onSomething:e.logit,source:e.editable.background,usePublic:!0,onUploaded:e.saveBG},null,8,["onSomething","source","onUploaded"])]),de],32)])}const me=T(L,[["render",re],["__scopeId","data-v-6a1f06e2"]]);export{me as default};
