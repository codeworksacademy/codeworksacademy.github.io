import{W as p,X as m,A as u,_,n as S,k as f,c as y,P as a,O as h,r as c,a as v,d as o,b as d,o as g}from"./index-65e1b2c3.js";import{i as k}from"./InstructorsService-3bb59a2d.js";class w{async createEnrollment(t){const e=await p.post(`api/maintain/courses/${t.courseId}/enrollments`,t);m(u.myStudents,e.data)}}const A=new w,C={setup(){const n=S();async function t(){try{await k.getStudentsByCourseId(n.params.courseId)}catch(e){a.error(e)}}return f(()=>{t()}),{students:y(()=>u.myStudents),async addStudentToCourse(e,s){try{if(!await a.confirm(`Add ${e.name} to your course`))return;await A.createEnrollment({courseId:h.course.id,accountId:e.id}),s()}catch(r){a.error(r)}}}}},E={class:"student-enrollments"},I={class:"my-3 bg-page drop-3 p-3 rounded"},b=o("p",{class:"bold text-muted"},[o("small",null,"Add Student")],-1),x={class:"bg-page drop-3 rounded"};function B(n,t,e,s,r,L){const l=c("ProfileLookup"),i=c("StudentList");return g(),v("div",E,[o("div",I,[b,d(l,{onSelected:s.addStudentToCourse},null,8,["onSelected"])]),o("div",x,[d(i,{students:s.students},null,8,["students"])])])}const M=_(C,[["render",B]]);export{M as default};
